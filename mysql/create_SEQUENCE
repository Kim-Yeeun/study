
CREATE TABLE seq_table (
	id INTEGER NOT NULL,
  seq_name VARCHAR(50) NOT NULL
);

DROP FUNCTION IF EXISTS get_seq;

DELIMITER $$
CREATE FUNCTION get_seq (p_seq_name VARCHAR(45))
RETURNS INT READS SQL DATA
BEGIN
DECLARE RESULT_ID INT;
UPDATE MASTER_SEQ SET id = LAST_INSERT_ID(id+1)
WHERE seq_name = p_seq_name;
SET RESULT_ID = (SELECT LAST_INSERT_ID());NOTICE
RETURN RESULT_ID;
END $$
DELIMITER ;

INSERT INTO MASTER_SEQ
VALUES (1, 'id')

/* NOTICE TABLE (id : 게시글 번호, title : 게시글 제목) */

INSERT INTO NOTICE VALUES ((SELECT get_seq('id')), '제목');



